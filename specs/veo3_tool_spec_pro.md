# ğŸš€ Video Auto Generator Tool â€” VEO 3 (Pro Spec)

## ğŸ§­ Má»¥c tiÃªu
Báº£n má»Ÿ rá»™ng nÃ y nÃ¢ng cáº¥p tá»« báº£n cÆ¡ báº£n, hÆ°á»›ng Ä‘áº¿n:
- Tá»± Ä‘á»™ng hÃ³a toÃ n bá»™ pipeline tá»« nháº­p prompt â†’ render â†’ táº£i â†’ ghÃ©p â†’ upload.
- Há»— trá»£ render hÃ ng loáº¡t (batch) vá»›i kháº£ nÄƒng tá»± phá»¥c há»“i khi cÃ³ lá»—i.
- Tá»‘i Æ°u hiá»‡u suáº¥t báº±ng multi-thread/multi-tab.
- Dá»… dÃ ng cáº¥u hÃ¬nh, quáº£n lÃ½ vÃ  má»Ÿ rá»™ng.

---

## ğŸ§° TÃ­nh nÄƒng má»›i

### 1. ğŸ§© Quáº£n lÃ½ phiÃªn Ä‘Äƒng nháº­p thÃ´ng minh (Session Manager)
- LÆ°u cookie/session sau láº§n Ä‘Äƒng nháº­p Ä‘áº§u tiÃªn.
- Tá»± Ä‘á»™ng náº¡p session cho cÃ¡c láº§n cháº¡y sau.
- PhÃ¡t hiá»‡n háº¿t háº¡n session â†’ tá»± Ä‘Äƒng nháº­p láº¡i.

### 2. ğŸ§  Retry & Recovery System
- Tá»± Ä‘á»™ng retry render tá»‘i Ä‘a `N` láº§n.
- Tá»± chuyá»ƒn cáº£nh káº¿ tiáº¿p náº¿u fail.
- Ghi log cáº£nh bá»‹ lá»—i vÃ o file `failed_scenes.csv` Ä‘á»ƒ xá»­ lÃ½ sau.

### 3. â° Scheduler (Bá»™ láº­p lá»‹ch)
- Cho phÃ©p háº¹n giá» cháº¡y batch render.
- Tá»± Ä‘á»™ng load file CSV theo lá»‹ch Ä‘á»‹nh sáºµn.
- Cháº¡y nhiá»u batch trong ngÃ y náº¿u cáº§n.

### 4. âš¡ Multi-tab / Multi-thread Rendering
- Cho phÃ©p má»Ÿ nhiá»u tab (hoáº·c thread) song song.
- Giá»›i háº¡n sá»‘ tab tá»‘i Ä‘a Ä‘á»ƒ trÃ¡nh bá»‹ khÃ³a tÃ i khoáº£n.
- Quáº£n lÃ½ tráº¡ng thÃ¡i tá»«ng tab: `rendering`, `completed`, `failed`.

### 5. ğŸ“Š Dashboard Console (Realtime)
- Hiá»ƒn thá»‹ báº£ng tráº¡ng thÃ¡i táº¥t cáº£ cÃ¡c cáº£nh.
- Thá»i gian Æ°á»›c tÃ­nh cÃ²n láº¡i.
- TÃ´ mÃ u cáº£nh lá»—i / cáº£nh hoÃ n táº¥t.
- Táº¡o báº£n summary sau khi batch xong.

### 6. ğŸ§© GhÃ©p video tá»± Ä‘á»™ng (Post-process)
- Tá»± Ä‘á»™ng ghÃ©p cÃ¡c cáº£nh theo thá»© tá»± CSV báº±ng `ffmpeg` hoáº·c `moviepy`.
- ThÃªm nháº¡c ná»n máº·c Ä‘á»‹nh (cáº¥u hÃ¬nh trong file `config.yaml`).
- Tá»± Ä‘á»™ng xuáº¥t file hoÃ n chá»‰nh `final_video.mp4`.

### 7. ğŸ“¤ Upload tá»± Ä‘á»™ng (Optional)
- Tá»± Ä‘á»™ng upload file hoÃ n chá»‰nh lÃªn cÃ¡c ná»n táº£ng:
  - Google Drive
  - TikTok (qua API hoáº·c tool upload)
  - YouTube (qua API)
- ThÃªm mÃ´ táº£, hashtag, thumbnail tá»« file cáº¥u hÃ¬nh.

### 8. âš™ï¸ Cáº¥u hÃ¬nh Ä‘á»™ng (Config file)
- Sá»­ dá»¥ng `config.yaml` hoáº·c `.env` Ä‘á»ƒ lÆ°u:
  - URL VEO
  - Sá»‘ tab render
  - Thá»i gian delay
  - ThÆ° má»¥c output
  - Sá»‘ láº§n retry
  - API key (náº¿u cáº§n upload)
  - Nháº¡c ná»n máº·c Ä‘á»‹nh

### 9. ğŸ§¼ Memory & Error Handling
- Tá»± Ä‘Ã³ng tab Ä‘Ã£ hoÃ n táº¥t.
- Dá»n file táº¡m sau khi ghÃ©p.
- Xá»­ lÃ½ lá»—i Selenium (treo, crash, máº¥t káº¿t ná»‘i).

---

## ğŸ§° Tech Stack Pro

| Háº¡ng má»¥c                    | CÃ´ng nghá»‡                            | Ghi chÃº |
|------------------------------|----------------------------------------|--------|
| NgÃ´n ngá»¯ chÃ­nh               | Python                                |         |
| Automation                   | Selenium + webdriver-manager          | Äiá»u khiá»ƒn VEO UI |
| Multi-thread                 | `threading` hoáº·c `asyncio`             | TÄƒng hiá»‡u suáº¥t |
| Dashboard                    | `rich` / `textual`                     | Realtime console |
| GhÃ©p video                   | `ffmpeg` hoáº·c `moviepy`               | Render háº­u ká»³ |
| Upload                       | `pydrive` / `YouTube API` / custom    | Tá»± Ä‘á»™ng Ä‘Æ°a file lÃªn |
| Cáº¥u hÃ¬nh                     | `PyYAML` / `dotenv`                   | Dá»… chá»‰nh, má»Ÿ rá»™ng |
| Láº­p lá»‹ch                     | `schedule`                            | Run theo giá» |
| Logging nÃ¢ng cao             | `logging` + custom handler            | PhÃ¢n loáº¡i log rÃµ rÃ ng |

---

## ğŸ§­ Quy trÃ¬nh cháº¡y tá»•ng thá»ƒ

```
Scheduler (tá»± Ä‘á»™ng) â”€â–º Load CSV â”€â–º Selenium login session â”€â–º
Gá»­i prompt song song â”€â–º Theo dÃµi render â”€â–º Download â”€â–º
GhÃ©p video â”€â–º Upload â”€â–º Ghi log â”€â–º Cleanup
```

---

## ğŸ“¦ Cáº¥u trÃºc thÆ° má»¥c

```
veo-auto-pro/
â”œâ”€â”€ veo_auto_pro.py
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ scenes.csv
â”œâ”€â”€ config.yaml
â”œâ”€â”€ output/
â”‚   â”œâ”€â”€ clips/
â”‚   â””â”€â”€ final/
â”œâ”€â”€ logs/
â”‚   â””â”€â”€ render_log.txt
â”œâ”€â”€ failed_scenes.csv
â””â”€â”€ temp/
```

---

## ğŸ“„ config.yaml máº«u

```yaml
veo_url: "https://flow.google.com/veo"
max_tabs: 3
retry_count: 2
delay_between_tasks: 5
output_path: "./output"
background_music: "./assets/bgm.mp3"

upload:
  drive: true
  youtube: false
  tiktok: false

youtube:
  api_key: "YOUR_KEY"
  title: "Trailer Match Day"
  description: "Video generated by VEO Pro Tool"
```

---

## ğŸ§ª Káº¿ hoáº¡ch kiá»ƒm thá»­ nÃ¢ng cao

| Test Case                          | Káº¿t quáº£ mong Ä‘á»£i                              |
|-------------------------------------|-----------------------------------------------|
| Session háº¿t háº¡n                    | Tool tá»± login láº¡i                             |
| Render 50 cáº£nh liÃªn tá»¥c           | KhÃ´ng crash, log chÃ­nh xÃ¡c                    |
| Multi-tab 3 luá»“ng                 | Tá»‘c Ä‘á»™ tÄƒng 2-3 láº§n, khÃ´ng lá»—i session        |
| Lá»—i render                         | Retry 2 láº§n rá»“i ghi vÃ o `failed_scenes.csv`  |
| Tá»± Ä‘á»™ng ghÃ©p video                | Táº¡o `final_video.mp4` chÃ­nh xÃ¡c thá»© tá»±       |
| Upload Drive                      | File Ä‘Æ°á»£c upload vÃ  tráº£ vá» link              |
| Láº­p lá»‹ch                          | Tool tá»± cháº¡y vÃ o giá» Ä‘Ã£ Ä‘áº·t                  |
| Dá»n bá»™ nhá»›                         | KhÃ´ng cÃ²n tab rÃ¡c, file táº¡m sau khi xong     |

---

## ğŸ Ghi chÃº triá»ƒn khai
- NÃªn triá»ƒn khai báº£n core á»•n Ä‘á»‹nh rá»“i nÃ¢ng cáº¥p tá»«ng module Pro.  
- Vá»›i há»‡ thá»‘ng lá»›n (100+ cáº£nh), nÃªn dÃ¹ng VPS riÃªng cho má»—i batch.  
- Giá»›i háº¡n 3â€“5 tab render song song Ä‘á»ƒ trÃ¡nh treo trÃ¬nh duyá»‡t.  
- Backup log thÆ°á»ng xuyÃªn Ä‘á»ƒ trÃ¡nh máº¥t tiáº¿n trÃ¬nh khi crash.

